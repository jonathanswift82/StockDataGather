package Parser;

import java.lang.reflect.Type;
import java.util.ArrayList;

import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;

import Logger.task;

/**
 * 
 * @author JSwift
 * https://developer.twitter.com/en/docs/basics/response-codes.html
 *
 */
public class jsonParser extends task{
	private Gson gson;
	// Used for EIX symbol list Download
	private ArrayList<iexCompany> companyList;
	private Type companyType;

	jsonParser(){
		gson = new Gson();
		companyType = new TypeToken<ArrayList<iexCompany>>() {}.getType();
	}
	
	public void parseString(String jsonString) {
		ArrayList<iexCompany> cl = gson.fromJson(jsonString, companyType);
		this.companyList = cl;
	}
	
	public void printComanyList() {
		int count=0;
		for(iexCompany temp:companyList) {
			System.out.println("Index: "+count+" Name:"+temp.getCompanyName()+ " Symbol: "+temp.getTicker());
			count++;
		}
	}

	public static void main(String[] args) {
		String testJson = "[{\"symbol\":\"AGM-D\",\"name\":\"Federal Agricultural Mortgage Corporation 5.700% Non-Cumulative Preferred Stock Series D\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15738\"},{\"symbol\":\"AGM.A\",\"name\":\"Federal Agricultural Mortgage Corporation\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"170\"},{\"symbol\":\"AGMH\",\"name\":\"AGM Group Holdings Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"12923\"},{\"symbol\":\"AGN\",\"name\":\"Allergan plc\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"72\"},{\"symbol\":\"AGNC\",\"name\":\"AGNC Investment Corp.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"172\"},{\"symbol\":\"AGNCB\",\"name\":\"AGNC Investment Corp. Depositary Shares representing 1/1000th Series B Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"8623\"},{\"symbol\":\"AGNCM\",\"name\":\"AGNC Investment Corp. Depositary Shares rep 6.875% Series D Fixed-to-Floating Cumulative Redeemable Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15490\"},{\"symbol\":\"AGNCN\",\"name\":\"AGNC Investment Corp. Depositary Shares Each Representing a 1/1000th Interest in a Share of 7.00% Series C Fixed-To-Floating Rate Cumulative Redeemable Preferre\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"13319\"},{\"symbol\":\"AGND\",\"name\":\"WisdomTree Barclays U.S. Aggregate Bond Negative D\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"8169\"},{\"symbol\":\"AGO\",\"name\":\"Assured Guaranty Ltd.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"174\"},{\"symbol\":\"AGO-B\",\"name\":\"Assured Guaranty Ltd.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"175\"},{\"symbol\":\"AGO-E\",\"name\":\"Assured Guaranty Ltd.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"176\"},{\"symbol\":\"AGO-F\",\"name\":\"Assured Guaranty Ltd.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"177\"},{\"symbol\":\"AGQ\",\"name\":\"ProShares Ultra Silver\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"et\",\"iexId\":\"179\"},{\"symbol\":\"AGR\",\"name\":\"Avangrid Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"10927\"},{\"symbol\":\"AGRO\",\"name\":\"Adecoagro S.A.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"180\"},{\"symbol\":\"AGRX\",\"name\":\"Agile Therapeutics Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"8646\"},{\"symbol\":\"AGS\",\"name\":\"PlayAGS Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"13933\"},{\"symbol\":\"AGT\",\"name\":\"iShares MSCI Argentina and Global Exposure\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"12812\"},{\"symbol\":\"AGTC\",\"name\":\"Applied Genetic Technologies Corporation\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"8331\"},{\"symbol\":\"AGX\",\"name\":\"Argan Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"182\"},{\"symbol\":\"AGYS\",\"name\":\"Agilysys Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"183\"},{\"symbol\":\"AGZ\",\"name\":\"iShares Agency Bond\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"et\",\"iexId\":\"184\"},{\"symbol\":\"AGZD\",\"name\":\"WisdomTree Barclays U.S. Aggregate Bond Zero Durat\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"8170\"},{\"symbol\":\"AHC\",\"name\":\"A.H. Belo Corporation (TX)\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"187\"},{\"symbol\":\"AHH\",\"name\":\"Armada Hoffler Properties Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"189\"},{\"symbol\":\"AHH-A\",\"name\":\"Armada Hoffler Properties Inc. 6.75% Series A Cumulative Redeemable Perpetual Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15853\"},{\"symbol\":\"AHL-C\",\"name\":\"Aspen Insurance Holdings Limited 5.95% Fixed-to-Floating Rate Perpetual Non-Cumulative Preference Shares\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"14580\"},{\"symbol\":\"AHL-D\",\"name\":\"Aspen Insurance Holdings Limited 5.625% Perpetual Non-Cumulative Preference Shares\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"14581\"},{\"symbol\":\"AHPI\",\"name\":\"Allied Healthcare Products Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"191\"},{\"symbol\":\"AHT\",\"name\":\"Ashford Hospitality Trust Inc\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"193\"},{\"symbol\":\"AHT-D\",\"name\":\"Ashford Hospitality Trust Inc 8.45% Series D Cumulative Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"195\"},{\"symbol\":\"AHT-F\",\"name\":\"Ashford Hospitality Trust Inc 7.375% Series F Cumulative Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"11628\"},{\"symbol\":\"AHT-G\",\"name\":\"Ashford Hospitality Trust Inc 7.375% Series G Cumulative Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"12003\"},{\"symbol\":\"AHT-H\",\"name\":\"Ashford Hospitality Trust Inc 7.50% Series H Cumulative Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"13325\"},{\"symbol\":\"AHT-I\",\"name\":\"Ashford Hospitality Trust Inc 7.50% Series I Cumulative Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"13823\"},{\"symbol\":\"AI\",\"name\":\"Arlington Asset Investment Corp Class A (new)\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"198\"},{\"symbol\":\"AI-B\",\"name\":\"Arlington Asset Investment Corp 7.00% Series B Cumulative Perpetual Redeemable Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"12907\"},{\"symbol\":\"AI-C\",\"name\":\"Arlington Asset Investment Corp 8.250% Series C Fixed-to-Floating Rate Cumulative Redeemable Preferred Stock\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15520\"},{\"symbol\":\"AIA\",\"name\":\"iShares Asia 50 ETF\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"et\",\"iexId\":\"199\"},{\"symbol\":\"AIC\",\"name\":\"\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"9861\"},{\"symbol\":\"AIEQ\",\"name\":\"AI Powered Equity\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"13582\"},{\"symbol\":\"AIF\",\"name\":\"Apollo Tactical Income Fund Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"201\"},{\"symbol\":\"AIG\",\"name\":\"American International Group Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"202\"},{\"symbol\":\"AIG+\",\"name\":\"American International Group Inc. Warrant expiring January 19 2021\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"7912\"},{\"symbol\":\"AIG-A\",\"name\":\"American International Group Inc. Depositary Shares Series A\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15524\"},{\"symbol\":\"AIHS\",\"name\":\"Senmiao Technology Limited\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"13684\"},{\"symbol\":\"AIIQ\",\"name\":\"AI Powered International Equity ETF\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"14714\"},{\"symbol\":\"AIMC\",\"name\":\"Altra Industrial Motion Corp.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"203\"},{\"symbol\":\"AIMT\",\"name\":\"Aimmune Therapeutics Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"10269\"},{\"symbol\":\"AIN\",\"name\":\"Albany International Corporation\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"204\"},{\"symbol\":\"AINC\",\"name\":\"Ashford Inc. (Holding Company)\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"9471\"},{\"symbol\":\"AINV\",\"name\":\"Apollo Investment Corporation\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"205\"},{\"symbol\":\"AIQ\",\"name\":\"Global X Future Analytics Tech ETF\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"14539\"},{\"symbol\":\"AIR\",\"name\":\"AAR Corp.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"207\"},{\"symbol\":\"AIRG\",\"name\":\"Airgain Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"11671\"},{\"symbol\":\"AIRI\",\"name\":\"Air Industries Group\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"208\"},{\"symbol\":\"AIRR\",\"name\":\"First Trust RBA American Industrial Renaissance ET\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"8334\"},{\"symbol\":\"AIRT\",\"name\":\"Air T Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"210\"},{\"symbol\":\"AIRTP\",\"name\":\"Air T Inc. Air T Funding Trust Preferred Securities\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15827\"},{\"symbol\":\"AIRTW\",\"name\":\"Air T Inc. Air T Funding Warrants to Purchase Trust Preferred\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"15828\"},{\"symbol\":\"AIT\",\"name\":\"Applied Industrial Technologies Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"211\"},{\"symbol\":\"AIV\",\"name\":\"Apartment Investment and Management Company\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"212\"},{\"symbol\":\"AIW\",\"name\":\"Arlington Asset Investment Corp 6.625% Notes due 2023\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"214\"},{\"symbol\":\"AIY\",\"name\":\"Apollo Investment Corporation 6.875% Senior Notes due 2043\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"216\"},{\"symbol\":\"AIZ\",\"name\":\"Assurant Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"217\"},{\"symbol\":\"AIZP\",\"name\":\"Assurant Inc. 6.50% Series D Mandatory Convertible Preferred Stock $1.00 par value\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"14256\"},{\"symbol\":\"AJG\",\"name\":\"Arthur J. Gallagher & Co.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"219\"},{\"symbol\":\"AJRD\",\"name\":\"Aerojet Rocketdyne Holdings Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"3085\"},{\"symbol\":\"AJX\",\"name\":\"Great Ajax Corp.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"9721\"},{\"symbol\":\"AJXA\",\"name\":\"Great Ajax Corp. 7.25% Convertible Senior Notes due 2024\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"N/A\",\"iexId\":\"12830\"},{\"symbol\":\"AKAM\",\"name\":\"Akamai Technologies Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"220\"},{\"symbol\":\"AKBA\",\"name\":\"Akebia Therapeutics Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"8337\"},{\"symbol\":\"AKCA\",\"name\":\"Akcea Therapeutics Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"13082\"},{\"symbol\":\"AKER\",\"name\":\"Akers Biosciences Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"8225\"},{\"symbol\":\"AKG\",\"name\":\"Asanko Gold Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"221\"},{\"symbol\":\"AKO.A\",\"name\":\"Embotelladora Andina S.A.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"222\"},{\"symbol\":\"AKO.B\",\"name\":\"Embotelladora Andina S.A.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"223\"},{\"symbol\":\"AKR\",\"name\":\"Acadia Realty Trust\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"225\"},{\"symbol\":\"AKRO\",\"name\":\"Akero Therapeutics Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"15829\"},{\"symbol\":\"AKRX\",\"name\":\"Akorn Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"226\"},{\"symbol\":\"AKS\",\"name\":\"AK Steel Holding Corporation\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"227\"},{\"symbol\":\"AKTS\",\"name\":\"Akoustis Technologies Inc.\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"12461\"},{\"symbol\":\"AKTX\",\"name\":\"Akari Therapeutics Plc\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"8249\"},{\"symbol\":\"AL\",\"name\":\"Air Lease Corporation Class A\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"cs\",\"iexId\":\"228\"},{\"symbol\":\"AL-A\",\"name\":\"Air Lease Corporation 6.150% Fixed-to-Floating Rate Non-Cumulative Perpetual Preferred Stock Series A\",\"date\":\"2019-07-26\",\"isEnabled\":true,\"type\":\"ps\",\"iexId\":\"15495\"}]";
		jsonParser jp = new jsonParser();
		jp.parseString(testJson);
		jp.printComanyList();
	}
}